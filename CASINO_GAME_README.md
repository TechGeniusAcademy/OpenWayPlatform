# üé∞ –ö–∞–∑–∏–Ω–æ –†—É–ª–µ—Ç–∫–∞ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–ø–∏—Å–∞–Ω–∏–µ
–û–Ω–ª–∞–π–Ω –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä –∫–∞–∑–∏–Ω–æ —Ä—É–ª–µ—Ç–∫–∞ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –≥–¥–µ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫–∏ –±–∞–ª–ª–∞–º–∏ –∏ –≤—ã–∏–≥—Ä—ã–≤–∞—Ç—å!

## –§—É–Ω–∫—Ü–∏–∏

### Backend API

#### –ú–æ–¥–µ–ª—å `CasinoGame`
- `create(roomId, creatorId)` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É
- `getById(gameId)` - –ü–æ–ª—É—á–∏—Ç—å –∏–≥—Ä—É –ø–æ ID
- `getActiveGames()` - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä
- `addBet(gameId, userId, betType, betValue, amount)` - –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É
- `updateStatus(gameId, status)` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–≥—Ä—ã
- `spin(gameId, result)` - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–ø–∏–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- `getUserHistory(userId, limit)` - –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `getStatistics()` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¥–ª—è –∞–¥–º–∏–Ω–∞)

#### –ú–∞—Ä—à—Ä—É—Ç—ã `/api/casino`

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/games` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä |
| POST | `/games/create` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É |
| GET | `/games/:gameId` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–µ |
| POST | `/games/:gameId/bet` | –°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É |
| POST | `/games/:gameId/start-betting` | –ù–∞—á–∞—Ç—å –ø—Ä–∏–µ–º —Å—Ç–∞–≤–æ–∫ (—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å) |
| POST | `/games/:gameId/spin` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ (—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å) |
| GET | `/history` | –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| GET | `/statistics` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω) |

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã `casino_games`

```sql
CREATE TABLE casino_games (
  id SERIAL PRIMARY KEY,
  room_id VARCHAR(100) NOT NULL,
  creator_id INTEGER NOT NULL REFERENCES users(id),
  status VARCHAR(20) CHECK (status IN ('waiting', 'betting', 'spinning', 'completed')),
  bets JSONB DEFAULT '[]',
  result INTEGER,
  created_at TIMESTAMP DEFAULT NOW(),
  spun_at TIMESTAMP
);
```

### Frontend

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `CasinoRoulette`

**–°–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã:**
- `waiting` - –û–∂–∏–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –ø—Ä–∏–µ–º–∞ —Å—Ç–∞–≤–æ–∫
- `betting` - –ü—Ä–∏–µ–º —Å—Ç–∞–≤–æ–∫ –æ—Ç–∫—Ä—ã—Ç
- `spinning` - –ö–æ–ª–µ—Å–æ –∫—Ä—É—Ç–∏—Ç—Å—è
- `completed` - –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–¢–∏–ø—ã —Å—Ç–∞–≤–æ–∫:**
- `number` - –°—Ç–∞–≤–∫–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ (0-36), –≤—ã–ø–ª–∞—Ç–∞ x36
- `color` - –°—Ç–∞–≤–∫–∞ –Ω–∞ —Ü–≤–µ—Ç (red/black), –≤—ã–ø–ª–∞—Ç–∞ x2
- `even` - –°—Ç–∞–≤–∫–∞ –Ω–∞ —á–µ—Ç–Ω–æ–µ, –≤—ã–ø–ª–∞—Ç–∞ x2
- `odd` - –°—Ç–∞–≤–∫–∞ –Ω–∞ –Ω–µ—á–µ—Ç–Ω–æ–µ, –≤—ã–ø–ª–∞—Ç–∞ x2

**Socket.IO —Å–æ–±—ã—Ç–∏—è:**
- `casino:game-created` - –ù–æ–≤–∞—è –∏–≥—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞
- `casino:bet-placed` - –°—Ç–∞–≤–∫–∞ —Å–¥–µ–ª–∞–Ω–∞
- `casino:betting-started` - –ü—Ä–∏–µ–º —Å—Ç–∞–≤–æ–∫ –Ω–∞—á–∞–ª—Å—è
- `casino:spin-result` - –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–ø–∏–Ω–∞

## –ö–∞–∫ –∏–≥—Ä–∞—Ç—å

1. **–°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É** - –ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É"
2. **–ù–∞—á–∞—Ç—å –ø—Ä–∏–µ–º —Å—Ç–∞–≤–æ–∫** - –°–æ–∑–¥–∞—Ç–µ–ª—å –∂–º—ë—Ç "–ù–∞—á–∞—Ç—å –ø—Ä–∏–µ–º —Å—Ç–∞–≤–æ–∫"
3. **–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫–∏** - –ò–≥—Ä–æ–∫–∏ –≤—ã–±–∏—Ä–∞—é—Ç —á–∏—Å–ª–æ/—Ü–≤–µ—Ç –∏ —Å—É–º–º—É
4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ** - –°–æ–∑–¥–∞—Ç–µ–ª—å –∂–º—ë—Ç "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ"
5. **–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª–∏—Ç –≤—ã–∏–≥—Ä—ã—à

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –í `server.js`:
```javascript
import casinoRoutes from './routes/casino.js';
app.use('/api/casino', casinoRoutes);
app.set('io', io); // –î–æ—Å—Ç—É–ø –∫ Socket.IO –≤ –º–∞—Ä—à—Ä—É—Ç–∞—Ö
```

### –í `Games.jsx`:
```javascript
import CasinoRoulette from '../../components/CasinoRoulette';

const games = [
  {
    id: 'casino-roulette',
    title: '–ö–∞–∑–∏–Ω–æ –†—É–ª–µ—Ç–∫–∞',
    icon: 'üé∞',
    description: '–ò–≥—Ä–∞–π –≤ —Ä—É–ª–µ—Ç–∫—É –∑–∞ –±–∞–ª–ª—ã!',
    color: '#ffd700',
    available: true
  }
];
```

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
backend/
  models/
    CasinoGame.js          # –ú–æ–¥–µ–ª—å –∏–≥—Ä—ã
  routes/
    casino.js              # API –º–∞—Ä—à—Ä—É—Ç—ã
  migrations/
    create_casino_games.sql # SQL –º–∏–≥—Ä–∞—Ü–∏—è
  apply-casino-migration.js # –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

frontend/
  src/
    components/
      CasinoRoulette.jsx   # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞–∑–∏–Ω–æ
      CasinoRoulette.css   # –°—Ç–∏–ª–∏
    pages/
      student/
        Games.jsx          # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–≥—Ä
```

## –ë–∞–ª–ª—ã –∏ –≤—ã–ø–ª–∞—Ç—ã

| –¢–∏–ø —Å—Ç–∞–≤–∫–∏ | –û–ø–∏—Å–∞–Ω–∏–µ | –í—ã–ø–ª–∞—Ç–∞ |
|-----------|----------|---------|
| –ß–∏—Å–ª–æ (0-36) | –°—Ç–∞–≤–∫–∞ –Ω–∞ —Ç–æ—á–Ω–æ–µ —á–∏—Å–ª–æ | x36 |
| –ö—Ä–∞—Å–Ω–æ–µ | –ö—Ä–∞—Å–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ | x2 |
| –ß–µ—Ä–Ω–æ–µ | –ß–µ—Ä–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ | x2 |
| –ß–µ—Ç–Ω–æ–µ | –ß–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞ (–∫—Ä–æ–º–µ 0) | x2 |
| –ù–µ—á–µ—Ç–Ω–æ–µ | –ù–µ—á–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞ | x2 |

## –ö—Ä–∞—Å–Ω—ã–µ —á–∏—Å–ª–∞
1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36

## –ß–µ—Ä–Ω—ã–µ —á–∏—Å–ª–∞
2, 4, 6, 8, 10, 11, 13, 15, 17, 20, 22, 24, 26, 28, 29, 31, 33, 35

## –ó–µ–ª–µ–Ω–æ–µ —á–∏—Å–ª–æ
0 (–∑–µ—Ä–æ)

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞: 1 –±–∞–ª–ª
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞: —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–¥–Ω–∞ —Å—Ç–∞–≤–∫–∞ –Ω–∞ –∏–≥—Ä–æ–∫–∞ –∑–∞ —Ä–∞—É–Ω–¥ (–º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å)
- –°–æ–∑–¥–∞—Ç–µ–ª—å –∏–≥—Ä—ã —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Socket.IO
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –∏–≥—Ä

## TODO (–≤–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è)

- [ ] –¢–∞–π–º–µ—Ä –Ω–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–æ–∫
- [ ] –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è –≤—ã–∏–≥—Ä—ã—à–∞
- [ ] –ß–∞—Ç –≤ –∏–≥—Ä–µ
- [ ] –†–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–∏–≥—Ä—ã—à–µ–π
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞—É–Ω–¥–∞
- [ ] VIP-–∫–æ–º–Ω–∞—Ç—ã —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏
